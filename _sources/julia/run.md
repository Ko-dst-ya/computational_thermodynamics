# Запуск программ

Программы в Julia можно запускать в интерактивном режиме или скриптовом режиме.

(repl_guide)=
## Интерактивный режим

```{margin}
Это аналогично интерактивному режиму работы в Python.
```
Знакомство языка начнём с интерактивного режима. Для этого необходимо запустить Julia REPL (Read-Evaluate-Print-Loop).

```{margin}
`GNOME Terminal`, `Terminal.app`, `iTerm.app`, `Windows Terminal`, `cmd`...
```
В терминале необходимо набрать команду `julia`

```console
% julia
               _
   _       _ _(_)_     |  Documentation: https://docs.julialang.org
  (_)     | (_) (_)    |
   _ _   _| |_  __ _   |  Type "?" for help, "]?" for Pkg help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 1.6.2 (2021-07-14)
 _/ |\__'_|_|_|\__'_|  |  Official https://julialang.org/ release
|__/                   |

julia>
```

Строки до `julia>` это приветственное сообщение. Здесь есть ссылка на документацию к языку. Команды для получения помощи и версия релиза.

Julia REPL обладает четыремя режимами работы

- Интерпретатор;
- Помощь;
- Менеджер пакетов;
- Командная оболочка.

При запуске запускается режим интерпретатора. Из него можно переключиться в другие режимы, а чтобы вернуться в режим интерпретатора из любого другого, нужно очистить строку {kbd}`Ctrl+E`, {kbd}`Ctrl+U` и нажать {kbd}`← Backspace`.

Чтобы выйти из REPL, очистите строку и нажмите {kbd}`Ctrl+D`.

::::{tab-set}

:::{tab-item} Интерпретатор

В нём вы можете исполнять команды языка и переходить в другие режимы. Prompt-сообщение `julia>`.

```julia-repl
julia> println("Hello, world")
Hello, world

julia>
```
:::

:::{tab-item} Помощь
Здесь можно получить помощь и документацию к коду. Переход по нажатию {kbd}`?`. Prompt-сообщение `help?>`.

```julia-repl
julia> ?

help?> println
search: println printstyled print sprint isprint

  println([io::IO], xs...)

  Print (using print) xs followed by a newline. If io is not supplied, prints to stdout.

  ...
```
:::

:::{tab-item} Менеджер пакетов

Посвящён работе c окружениями и со сторонними пакетами [^pkgenv]. Команда перехода {kbd}`]`. Prompt-сообщение `(@v1.6) pkg>`. Этот режим нам пока не понадобится. Для знакомых с Python, этот режим обладает функционалом pip и virtualenv.

[^pkgenv]: Программный пакет *package* это библиотека кода. Окружение *environment* позволяет исполнить код только с необходимыми пакетами, что уменьшает количество конфликтов версий между ними.

```julia-repl
julia> ]

(v1.6) pkg> help
  Welcome to the Pkg REPL-mode. To return to the julia> prompt, ...
```

:::

:::{tab-item} Командная оболочка

В этом режиме можно работать с командной оболочкой, не выходя из Julia REPL. Команда перехода {kbd}`;`. Prompt-сообщение `shell>`.

```julia-repl
julia> ;

shell> echo 'Привет, мир!'
Привет, мир!
```
:::

::::

## Скриптовый режим

Исходный код программы в Julia это текстовый файл, стандартное расширение `.jl`. Сохраняйте исходный код в UTF кодировке.

Чтобы опробовать, создайте текстовый файл с названием `hello.jl` с содержимым

```julia
using Random

maze_width = 50
maze_height = 10

for i in 1:maze_height
    println(join(rand(1:4) > 2 ? "+" : " " for i in 1:maze_width))
end
```

Программа запускается командой `julia` с указанием полного пути до файла с исходным кодом. Перейдите в терминале в директорию, где вы сохранили `hello.jl` и выполните команду `julia hello.jl`

```console
% julia hello.jl
  + + ++++ +++ + + ++ +  +++++ + ++ + + +  + ++ ++
+ ++   + +++      +    + +  ++ +++++ +++ + + +    
 + ++     ++++++ + ++  ++ ++  + +  +++ + ++ + +++ 
 + + + ++++      +++ ++     +  +     + +   ++++ ++
 ++   ++   ++ +   + + + +++   ++   ++    ++ + + ++
 +        ++  +   ++ ++++    ++  + + + ++ ++  +  +
+     ++ ++ ++  +++   ++++  +   ++ + + +++++++   +
+  + + +++     + +         ++++++ ++++ +  + + + ++
+ +    ++  + ++++++    +  + + +  +++ +   +++      
+ + +  +  + ++++     + +++ ++++ + +  ++ ++ + ++ + 
```

У интерпретатора много полезных опций. Например, с опцией `-i` интерпретатор переходит в интерактивный режим после исполения программы.

```console
% julia -i hello.jl
 + +++ ++++ +++    +++ +++    + + +++++  +++   ++ 
+ +   ++ + + ++ +++ +  ++  ++   ++ +++      ++ +++
++++   +  + +      +   +++++  ++ +++   +++ +++++  
    +   +  ++ ++  + + + + ++ +   + ++ +    + + +++
+++ ++ + + + + +   ++++++   ++++ + ++    + +  +  +
+ ++    ++++ ++  ++++ +   ++     + ++    + +++ +++
+ +++ ++++ +++  ++ ++++  +    + + ++++++++     +  
 +  + +   +++ +   +   ++++ +++    + +++ +++     + 
++ +++++ + ++++    ++  ++    + +  ++ ++++++ ++ +++
    + +++++ + ++ + +++ ++++  +   + +++  +++ + ++++
               _
   _       _ _(_)_     |  Documentation: https://docs.julialang.org
  (_)     | (_) (_)    |
   _ _   _| |_  __ _   |  Type "?" for help, "]?" for Pkg help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 1.6.2 (2021-07-14)
 _/ |\__'_|_|_|\__'_|  |  Official https://julialang.org/ release
|__/                   |

julia> maze_height
10
```
